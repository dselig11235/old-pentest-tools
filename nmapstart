#!/bin/bash

. $HOME/bin/screenshot-functions.sh
case $1 in
    --allports)
        ports="-p -"
        out="nmap.tcp-all"
        ;;
    *)
        ports="--top-ports 4000"
        out="nmap.tcp"
esac
screenshot 'ICMP Echo Request' nmap -sn -PE -PP -PM -iL targets --reason

fakeprompt nmap -sSV -Pn -iL targets $ports -oA "$out"
fakeprompt nmap -sUV -Pn -p 53,69,123,161,500 -iL targets -oA nmap.udp

screenshot 'NMAP Results' nmapparser *.gnmap | tee nmap.parsed.txt
#nmap2csv.py *.gnmap > nmap.csv
#libreoffice nmap.csv
